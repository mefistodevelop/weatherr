(this.webpackJsonpweatherr=this.webpackJsonpweatherr||[]).push([[0],{23:function(e,t,a){e.exports=a.p+"static/media/spinner.b101b486.svg"},26:function(e,t,a){e.exports=a(62)},31:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),i=(a(31),a(2)),u=(a(38),a(25)),s=(a(39),a(5)),l=a.n(s),m=a(11),h=a(3),p=a(22),f=a.n(p),d=a(7),E=f.a.create({baseURL:d.BASE_URL,headers:{"API-KEY":d.API_KEY}}),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return E.get("weather?q=".concat(e,"&units=metric&appid=").concat(d.API_KEY,"&lang=").concat(t)).then((function(e){return e.data}))},v={weather:{},isFetching:!1,language:"en"},b=function(e){return{type:"SET_WEATHER",payload:e}},_=function(e){return{type:"SET_IS_FETCHING",payload:e}},w=function(e){return{type:"TOGGLE_LANGUAGE",payload:e}},y=function(e){var t=e.language,a=Object(n.useState)(""),c=Object(u.a)(a,2),o=c[0],s=c[1],h=Object(i.b)(),p="en"===t?"Search weather":"\u0418\u0441\u043a\u0430\u0442\u044c \u043f\u043e\u0433\u043e\u0434\u0443";return r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",className:"search__bar",placeholder:p,value:o,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){if("Enter"===e.key){var a=o.trim();if(!a)return;h(function(e,t){return function(){var a=Object(m.a)(l.a.mark((function a(n){var r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(_(!0)),a.next=3,g(e,t);case 3:r=a.sent,n(b(r)),n(_(!1));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(a,t)),s("")}}}))},N=(a(58),a(23)),O=a.n(N);var j=function(e){var t=e.size;return r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{className:"spinner__image",src:O.a,width:t,alt:"loading progress spinner"}))},A=(a(59),function(e){var t=e.city,a=e.country;return r.a.createElement("div",{className:"location"},r.a.createElement("span",{className:"location__name"},"".concat(t,", ").concat(a)))}),S=(a(60),function(e){var t=e.temperature,a=e.weather,n=Math.round(t),c=function(e){var t="";return e>0?t="+":e<0&&(t="-"),t}(n);return r.a.createElement("div",{className:"weather"},r.a.createElement("div",{className:"weather__temperature"},"".concat(c).concat(n,"\xb0C")),r.a.createElement("div",{className:"weather__description"},a))}),G=function(e){var t=e.store,a=e.isWeatherDefined;return r.a.createElement("div",{className:"content"},a()?r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{city:t.name,country:t.sys.country}),r.a.createElement(S,{temperature:t.main.temp,weather:t.weather[0].description})):"")},T=(a(61),function(e){var t=e.language,a=Object(i.b)();return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__container"},r.a.createElement("span",{className:"header__logo"},"Weatherr"),r.a.createElement("button",{type:"button",className:"header__toggle","aria-label":"change language",onClick:function(){a(w("en"===t?"ru":"en"))}},"en"===t?"ru":"en")))});var k=function(){var e=Object(i.c)((function(e){return e.weather})),t=Object(i.c)((function(e){return e.isFetching})),a=Object(i.c)((function(e){return e.language})),c=function(){return 0!==Object.keys(e).length};return Object(n.useEffect)((function(){}),[a]),r.a.createElement("div",{className:"App ".concat(function(){if(!c())return"";var t="",a=e.weather[0].main.toLowerCase(),n=Math.round(e.main.temp);return"rain"===a&&(t=a),n>=28&&(t="hot"),n<=5&&(t="cold"),t}())},r.a.createElement(T,{language:a}),r.a.createElement("div",{className:"App__wrapper"},r.a.createElement(y,{language:a}),t?r.a.createElement(j,{size:100}):r.a.createElement(G,{store:e,isWeatherDefined:c})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(4),L=a(24),W=Object(I.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WEATHER":return Object(h.a)(Object(h.a)({},e),{},{weather:t.payload});case"SET_IS_FETCHING":return Object(h.a)(Object(h.a)({},e),{},{isFetching:t.payload});case"TOGGLE_LANGUAGE":return Object(h.a)(Object(h.a)({},e),{},{language:t.payload});default:return e}}),Object(I.a)(L.a));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:W},r.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t){e.exports={API_KEY:"cb10a7cb11e6b08e1f61144ad85f7af3",BASE_URL:"https://cors-anywhere.herokuapp.com/https://api.openweathermap.org/data/2.5/"}}},[[26,1,2]]]);
//# sourceMappingURL=main.49cdc740.chunk.js.map