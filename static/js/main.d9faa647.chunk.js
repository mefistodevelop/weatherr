(this.webpackJsonpweatherr=this.webpackJsonpweatherr||[]).push([[0],{21:function(e,a,t){e.exports=t.p+"static/media/spinner.b101b486.svg"},26:function(e,a,t){e.exports=t(62)},31:function(e,a,t){},38:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},6:function(e,a){e.exports={API_KEY:"cb10a7cb11e6b08e1f61144ad85f7af3",BASE_URL:"https://cors-anywhere.herokuapp.com/https://api.openweathermap.org/data/2.5/"}},61:function(e,a,t){},62:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(5),i=t.n(c),o=(t(31),t(2)),s=(t(38),t(39),t(21)),u=t.n(s);var l=function(e){var a=e.size;return r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{className:"spinner__image",src:u.a,width:a,alt:"loading progress spinner"}))},m=(t(40),function(e){var a=e.city,t=e.country;return r.a.createElement("div",{className:"location"},r.a.createElement("span",{className:"location__name"},"".concat(a,", ").concat(t)))}),d=(t(41),function(e){var a=e.temperature,t=e.weather,n=e.wind,c=function(e){var a="";return e>0?a="+":e<0&&(a="-"),a};return r.a.createElement("div",{className:"weather"},r.a.createElement("div",{className:"weather__info"},"".concat(c(a.real)).concat(a.real,"\xb0C"),r.a.createElement("div",{className:"weather__description"},t.description),r.a.createElement("div",{className:"weather__description"},"feels like ".concat(c(a.feelsLike)).concat(a.feelsLike,"\xb0C")),r.a.createElement("div",{className:"weather__description"},"wind ".concat(n," m/s"))),r.a.createElement("div",{className:"weather__icon"},r.a.createElement("span",{className:function(){switch(t.main.toLowerCase()){case"clouds":return"icon-cloud";case"rain":return"icon-rainy";case"snow":return"icon-snowy";default:return"icon-sun"}}()})))}),h=function(e){var a=e.store,t={main:a.weather[0].main,description:a.weather[0].description},n={real:Math.round(a.main.temp),feelsLike:Math.round(a.main.feels_like)},c=Math.round(a.wind.speed);return r.a.createElement("div",{className:"content"},r.a.createElement(m,{city:a.name,country:a.sys.country}),r.a.createElement(d,{temperature:n,weather:t,wind:c}))},p=(t(42),t(10)),f=t.n(p),E=t(22),g=t(3),v=t(23),w=t.n(v),_=t(6),b=w.a.create({baseURL:_.BASE_URL,headers:{"API-KEY":_.API_KEY}}),y=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return b.get("weather?q=".concat(e,"&units=metric&appid=").concat(_.API_KEY,"&lang=").concat(a)).then((function(e){return e.data}))},N={weather:{},isFetching:!1,language:"en"},O=function(e){return{type:"SET_WEATHER",payload:e}},j=function(e){return{type:"SET_IS_FETCHING",payload:e}},k=function(e){return{type:"TOGGLE_LANGUAGE",payload:e}},A=function(e,a){return function(){var t=Object(E.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(j(!0)),t.next=3,y(e,a);case 3:r=t.sent,n(O(r)),n(j(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=t(25),S=(t(61),function(e){var a=e.language,t=Object(n.useState)(""),c=Object(L.a)(t,2),i=c[0],s=c[1],u=Object(o.b)(),l="en"===a?"Search weather":"\u0418\u0441\u043a\u0430\u0442\u044c \u043f\u043e\u0433\u043e\u0434\u0443";return r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",className:"search__bar",placeholder:l,value:i,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){if("Enter"===e.key){var t=i.trim();if(!t)return;u(A(t,a)),s("")}}}),r.a.createElement("div",{className:"search__icon"}))}),G=function(e){var a=e.language,t=Object(o.b)();return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__container"},r.a.createElement("span",{className:"header__logo"},"Weatherr"),r.a.createElement("div",{className:"header__search"},r.a.createElement(S,{language:a})),r.a.createElement("button",{type:"button",className:"header__toggle","aria-label":"change language",onClick:function(){t(k("en"===a?"ru":"en"))}},"en"===a?"ru":"en")))};var T=function(){var e=Object(o.c)((function(e){return e.weather})),a=Object(o.c)((function(e){return e.isFetching})),t=Object(o.c)((function(e){return e.language})),c=Object(o.c)((function(e){return e.weather.name})),i=Object(o.b)(),s=function(){return 0!==Object.keys(e).length},u=s()?r.a.createElement(h,{store:e}):"";return Object(n.useEffect)((function(){c&&i(A(c,t))}),[t]),r.a.createElement("div",{className:"App ".concat(function(){if(!s())return"";var a=e.weather[0].main.toLowerCase(),t=Math.round(e.main.temp),n=(new Date).getHours();return n<=21||n<5?"rain"===a||"clouds"===a?a:t>=28?"hot":t<=5?"cold":"":"night"}())},r.a.createElement(G,{language:t}),r.a.createElement("div",{className:"App__wrapper"},a?r.a.createElement(l,{size:100}):u))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=t(4),C=t(24),x=Object(I.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_WEATHER":return Object(g.a)(Object(g.a)({},e),{},{weather:a.payload});case"SET_IS_FETCHING":return Object(g.a)(Object(g.a)({},e),{},{isFetching:a.payload});case"TOGGLE_LANGUAGE":return Object(g.a)(Object(g.a)({},e),{},{language:a.payload});default:return e}}),Object(I.a)(C.a));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:x},r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.d9faa647.chunk.js.map