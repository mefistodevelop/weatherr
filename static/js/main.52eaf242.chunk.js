(this.webpackJsonpweatherr=this.webpackJsonpweatherr||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/spinner.b101b486.svg"},26:function(e,t,a){e.exports=a(62)},31:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},6:function(e,t){e.exports={API_KEY:"cb10a7cb11e6b08e1f61144ad85f7af3",BASE_URL:"https://cors-anywhere.herokuapp.com/https://api.openweathermap.org/data/2.5/"}},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),i=a.n(c),o=(a(31),a(1)),s=(a(38),a(39),a(21)),u=a.n(s);var l=function(e){var t=e.size;return r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{className:"spinner__image",src:u.a,width:t,alt:"loading progress spinner"}))},m=(a(40),function(e){var t=e.city,a=e.country;return r.a.createElement("div",{className:"location"},r.a.createElement("span",{className:"location__name"},"".concat(t,", ").concat(a)))}),d=(a(41),function(e){var t=e.temperature,a=e.weather,n=e.wind,c=Object(o.c)((function(e){return e.language})),i=function(e){var t="";return e>0?t="+":e<0&&(t="-"),t},s={feelsLike:{en:"feels like",ru:"\u043e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a"},wind:{en:"wind",ru:"\u0432\u0435\u0442\u0435\u0440"},speedUnits:{en:"m/s",ru:"\u043c/\u0441"}};return r.a.createElement("div",{className:"weather"},r.a.createElement("div",{className:"weather__info"},"".concat(i(t.real)).concat(t.real,"\xb0C"),r.a.createElement("div",{className:"weather__description"},a.description),r.a.createElement("div",{className:"weather__description"},"".concat(s.feelsLike[c]," ").concat(i(t.feelsLike)).concat(t.feelsLike,"\xb0C")),r.a.createElement("div",{className:"weather__description"},"".concat(s.wind[c]," ").concat(n," ").concat(s.speedUnits[c]))),r.a.createElement("div",{className:"weather__icon"},r.a.createElement("span",{className:function(){switch(a.main.toLowerCase()){case"clouds":return"icon-cloud";case"rain":return"icon-rainy";case"snow":return"icon-snowy";default:return"icon-sun"}}()})))}),h=function(e){var t=e.store,a={main:t.weather[0].main,description:t.weather[0].description},n={real:Math.round(t.main.temp),feelsLike:Math.round(t.main.feels_like)},c=Math.round(t.wind.speed);return r.a.createElement("div",{className:"content"},r.a.createElement(m,{city:t.name,country:t.sys.country}),r.a.createElement(d,{temperature:n,weather:a,wind:c}))},p=(a(42),a(10)),f=a.n(p),E=a(22),g=a(3),w=a(23),v=a.n(w),_=a(6),b=v.a.create({baseURL:_.BASE_URL,headers:{"API-KEY":_.API_KEY}}),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return b.get("weather?q=".concat(e,"&units=metric&appid=").concat(_.API_KEY,"&lang=").concat(t)).then((function(e){return e.data}))},N={weather:{},isFetching:!1,language:"en"},O=function(e){return{type:"SET_WEATHER",payload:e}},j=function(e){return{type:"SET_IS_FETCHING",payload:e}},k=function(e){return{type:"TOGGLE_LANGUAGE",payload:e}},A=function(e,t){return function(){var a=Object(E.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(j(!0)),a.next=3,y(e,t);case 3:r=a.sent,n(O(r)),n(j(!1));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},L=a(25),S=(a(61),function(e){var t=e.language,a=Object(n.useState)(""),c=Object(L.a)(a,2),i=c[0],s=c[1],u=Object(o.b)(),l="en"===t?"Search weather":"\u0418\u0441\u043a\u0430\u0442\u044c \u043f\u043e\u0433\u043e\u0434\u0443";return r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",className:"search__bar",placeholder:l,value:i,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){if("Enter"===e.key){var a=i.trim();if(!a)return;u(A(a,t)),s("")}}}),r.a.createElement("div",{className:"search__icon"}))}),G=function(e){var t=e.language,a=Object(o.b)();return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__container"},r.a.createElement("span",{className:"header__logo"},"Weatherr"),r.a.createElement("div",{className:"header__search"},r.a.createElement(S,{language:t})),r.a.createElement("button",{type:"button",className:"header__toggle","aria-label":"change language",onClick:function(){a(k("en"===t?"ru":"en"))}},"en"===t?"ru":"en")))};var T=function(){var e=Object(o.c)((function(e){return e.weather})),t=Object(o.c)((function(e){return e.isFetching})),a=Object(o.c)((function(e){return e.language})),c=Object(o.c)((function(e){return e.weather.name})),i=Object(o.b)(),s=function(){return 0!==Object.keys(e).length},u=s()?r.a.createElement(h,{store:e}):"";return Object(n.useEffect)((function(){c&&i(A(c,a))}),[a]),r.a.createElement("div",{className:"App ".concat(function(){if(!s())return"";var t=e.weather[0].main.toLowerCase(),a=Math.round(e.main.temp),n=(new Date).getHours();return n<=21||n<5?"rain"===t||"clouds"===t?t:a>=28?"hot":a<=5?"cold":"":"night"}())},r.a.createElement(G,{language:a}),r.a.createElement("div",{className:"App__wrapper"},t?r.a.createElement(l,{size:100}):u))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(4),C=a(24),U=Object(I.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WEATHER":return Object(g.a)(Object(g.a)({},e),{},{weather:t.payload});case"SET_IS_FETCHING":return Object(g.a)(Object(g.a)({},e),{},{isFetching:t.payload});case"TOGGLE_LANGUAGE":return Object(g.a)(Object(g.a)({},e),{},{language:t.payload});default:return e}}),Object(I.a)(C.a));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:U},r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.52eaf242.chunk.js.map